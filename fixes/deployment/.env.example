# ========================================================================
# PRODUCTION-READY ENVIRONMENT VARIABLES
# Gmail Unsubscriber Application
# ========================================================================
#
# IMPORTANT:
# - Copy this file to .env and fill in actual values
# - NEVER commit .env file to version control
# - All values marked with [REQUIRED] must be set
# - All secrets should be generated with high entropy
#
# ========================================================================

# ========================================================================
# APPLICATION CONFIGURATION
# ========================================================================

# Environment: development | staging | production [REQUIRED]
ENVIRONMENT=production

# Debug mode (MUST be false in production) [REQUIRED]
DEBUG=false

# ========================================================================
# SECURITY SECRETS
# ========================================================================

# Flask secret key - minimum 32 characters [REQUIRED]
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# JWT secret key (if not set, uses SECRET_KEY) [OPTIONAL]
JWT_SECRET_KEY=

# ========================================================================
# GOOGLE OAUTH CREDENTIALS
# ========================================================================
# Get these from: https://console.cloud.google.com/apis/credentials

# Google OAuth Client ID [REQUIRED]
GOOGLE_CLIENT_ID=

# Google OAuth Client Secret [REQUIRED]
GOOGLE_CLIENT_SECRET=

# Google Cloud Project ID [REQUIRED]
GOOGLE_PROJECT_ID=

# OAuth redirect URI (must match Google Console) [REQUIRED]
# Example: https://your-domain.com/oauth2callback
REDIRECT_URI=

# Frontend URL (for CORS) [REQUIRED]
# Example: https://your-frontend.com
FRONTEND_URL=

# ========================================================================
# DATABASE CONFIGURATION
# ========================================================================

# Database URL (PostgreSQL recommended for production) [OPTIONAL]
# SQLite: sqlite:///gmail_unsubscriber.db
# PostgreSQL: postgresql://user:pass@host:5432/dbname
# DATABASE_URL=postgresql://gmail_user:changeme@postgres:5432/gmail_unsubscriber
DATABASE_URL=

# Database path (for SQLite only) [OPTIONAL]
DATABASE_PATH=gmail_unsubscriber.db

# Connection pool settings [OPTIONAL]
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# PostgreSQL credentials (for docker-compose) [OPTIONAL]
DATABASE_NAME=gmail_unsubscriber
DATABASE_USER=gmail_user
DATABASE_PASSWORD=

# ========================================================================
# REDIS CONFIGURATION (Required for production)
# ========================================================================

# Redis URL [REQUIRED for production]
# Format: redis://[:password]@host:port/db
REDIS_URL=redis://:changeme@redis:6379/0

# Enable Redis (true recommended for production) [OPTIONAL]
REDIS_ENABLED=true

# Redis password [REQUIRED if using Redis]
REDIS_PASSWORD=

# ========================================================================
# RATE LIMITING
# ========================================================================

# Enable rate limiting (true for production) [OPTIONAL]
RATELIMIT_ENABLED=true

# Rate limit storage (uses REDIS_URL if not set) [OPTIONAL]
RATELIMIT_STORAGE_URL=

# Rate limit strategy: fixed-window | moving-window [OPTIONAL]
RATELIMIT_STRATEGY=fixed-window

# ========================================================================
# APPLICATION LIMITS
# ========================================================================

# Maximum emails per request (1-200) [OPTIONAL]
MAX_EMAILS_PER_REQUEST=200

# Maximum activities to store per user [OPTIONAL]
MAX_ACTIVITIES_PER_USER=50

# Session lifetime in minutes [OPTIONAL]
SESSION_LIFETIME_MINUTES=15

# OAuth state TTL in minutes [OPTIONAL]
OAUTH_STATE_TTL_MINUTES=10

# ========================================================================
# GMAIL API CONFIGURATION
# ========================================================================

# Gmail API request timeout (seconds) [OPTIONAL]
GMAIL_API_TIMEOUT=30

# Maximum retry attempts for Gmail API [OPTIONAL]
GMAIL_API_MAX_RETRIES=3

# Exponential backoff factor [OPTIONAL]
GMAIL_API_BACKOFF_FACTOR=2.0

# ========================================================================
# LOGGING CONFIGURATION
# ========================================================================

# Log level: DEBUG | INFO | WARNING | ERROR | CRITICAL [OPTIONAL]
LOG_LEVEL=INFO

# Log format: text | json [OPTIONAL]
LOG_FORMAT=json

# Enable structured logging (recommended for production) [OPTIONAL]
STRUCTURED_LOGGING=true

# ========================================================================
# CORS CONFIGURATION
# ========================================================================

# Allowed CORS origins (comma-separated) [OPTIONAL]
# Defaults to FRONTEND_URL
CORS_ORIGINS=

# Allow credentials in CORS requests [OPTIONAL]
CORS_CREDENTIALS=true

# ========================================================================
# SECURITY HEADERS
# ========================================================================

# Enable Content Security Policy [OPTIONAL]
CSP_ENABLED=true

# Enable HTTP Strict Transport Security [OPTIONAL]
HSTS_ENABLED=true

# HSTS max age in seconds (default: 1 year) [OPTIONAL]
HSTS_MAX_AGE=31536000

# ========================================================================
# MONITORING & ERROR TRACKING
# ========================================================================

# Sentry DSN for error tracking [OPTIONAL]
# Get from: https://sentry.io
SENTRY_DSN=

# Enable Prometheus metrics [OPTIONAL]
PROMETHEUS_ENABLED=true

# ========================================================================
# BACKGROUND JOBS (Celery)
# ========================================================================

# Enable Celery for background jobs [OPTIONAL]
CELERY_ENABLED=false

# Celery broker URL (uses REDIS_URL if not set) [OPTIONAL]
CELERY_BROKER_URL=

# Celery result backend (uses REDIS_URL if not set) [OPTIONAL]
CELERY_RESULT_BACKEND=

# ========================================================================
# OPTIONAL INTEGRATIONS
# ========================================================================

# Anthropic API key for Claude AI features [OPTIONAL]
ANTHROPIC_API_KEY=

# ========================================================================
# GUNICORN CONFIGURATION (for docker-compose)
# ========================================================================

# Number of Gunicorn workers [OPTIONAL]
# Recommended: (2 x CPU cores) + 1
GUNICORN_WORKERS=4

# Number of threads per worker [OPTIONAL]
GUNICORN_THREADS=2

# ========================================================================
# GRAFANA CONFIGURATION (for monitoring)
# ========================================================================

# Grafana admin credentials [OPTIONAL]
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=

# ========================================================================
# DEPLOYMENT NOTES
# ========================================================================
#
# PRODUCTION CHECKLIST:
# ✓ Generate strong SECRET_KEY (min 32 chars)
# ✓ Set ENVIRONMENT=production
# ✓ Set DEBUG=false
# ✓ Configure Google OAuth credentials
# ✓ Set up PostgreSQL database
# ✓ Configure Redis
# ✓ Enable rate limiting
# ✓ Enable security headers (CSP, HSTS)
# ✓ Set up Sentry for error tracking
# ✓ Configure monitoring (Prometheus/Grafana)
# ✓ Use HTTPS for all URLs
# ✓ Set strong database passwords
# ✓ Set strong Redis password
# ✓ Configure firewall rules
# ✓ Set up automated backups
# ✓ Configure log rotation
# ✓ Review and tighten CORS origins
# ✓ Enable Celery for background jobs
# ✓ Set up SSL certificates
# ✓ Configure DNS records
# ✓ Test disaster recovery procedures
#
# SECURITY NOTES:
# - Never use default passwords
# - Rotate secrets regularly
# - Use environment-specific credentials
# - Enable 2FA for all admin accounts
# - Monitor security logs
# - Keep dependencies updated
# - Perform regular security audits
#
# ========================================================================
